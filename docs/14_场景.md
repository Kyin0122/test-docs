# 场景

`ThingJS`的场景是具有一定关系的对象所组成的集合。场景一般由场景搭建工具 或 三维建模工具 生成，通过`gltf`文件或资源包加载到引擎中。

场景具有一个根对象`app.root`，所有对象都在这个根对象下，组成一个树状结构。可以通过对象的`add`、`remove`方法，给这个场景树增加或移除对象。

## 加载场景

除了在`App`构造时传递`url`参数外，可以通过`load`方法来加载场景：
```javascript
const app = new THING.App();

// await 的方式，等待加载完成
let result = await app.load(url);
console.log( result.object );

// 或 then 的方式，等待加载完成后回调
app.load(url).then((ev) => {
    console.log(ev.object); // ev.object是根节点
})；
```

在`app.load()`方法中，除了指定`url`外，还可以设置更多的参数，如：加载场景到那个根对象下、是否忽略效果模板等等。另外，加载完成、加载进度或错误的回调方法等，也可以在参数中进行指定：
```javascript
const app = new THING.App();

app.load(url, {
    // 加载到这个对象下
    parent: parentObj,  // ？参数名是这个
    // 忽略效果
    ignore: "theme",

    // 场景加载完成回调
    onComplete: (ev) => {
        console.log(ev.object);
    },
    // 场景加载进度回调
    onProgress: (num) => {
        console.log(num);
    },
    // 场景加载错误回调
    onError: (ev) => {
        console.log(ev);
    }	
});
```

> 注意：`load`方法是一个通用的资源加载接口，如果要加载场景，需要确保`url`指定的资源路径应是场景内容，或在参数中指定加载资源的`type` ？

## 加载事件
可以通过注册`load`事件，在代码的任何地方响应场景加载完成的事件：
```javascript
// 场景加载完成事件
app.on('load', function(ev) {
    console.log(ev);
});

// 只监听符合筛选条件的对象加载事件
app.on('load', '.Campus', function(ev) {
    console.log(ev);
});
```
